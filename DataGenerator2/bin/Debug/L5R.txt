database CinqAnneaux
%%
enumtable Anneau(
	Feu, Air, Terre, Eau, Vide
)
enumtable Affinite(
	Feu, Air, Terre, Eau, Vide, Choix, Aucun
)
enumtable ElementSort(
	Feu, Air, Terre, Eau, Vide, Universel
)
enumtable MotClefSort(
	ArtGuerre, Artisanat, Defense, Divination, Glyphe, Illusion, Jade, Tonnerre, Voyage
)
enumtable Trait(
	Reflexes, Intuition, Agilite, Intelligence, Perception, Force, Volonte, Constitution
)
enumtable TraitCompetence(
	Reflexes, Intuition, Agilite, Intelligence, Perception, Force, Volonte, Constitution, Vide, Variable
)
enumtable MotClefEcole(
	Bushi, Courtisan, Shugenja, Ninja, Moine
)
enumtable ModeDepenseAvantage(
	Default, Rang, Variable
)
enumtable GroupeCompetence(
	Noble, Bugei, Marchand,Degradante
)
enumtable SousTypeAvantage(
	Physique, Mental, Social, Materiel, Spirituel
)
enumtable Portee(
	Personnel, Contact, PersonnelContact, Metres, Kilometres, Special
)
enumtable ZoneEffet(
	Personnel, Individu, Esprit, Objet, dmCube, Metres
)
enumtable Duree(
	Instantane, Concentration, Permanent, Minutes, Heures, Jours, Special
)
enumtable TypeAugmentationSort(
	bidulon
)
enumTable Monnaie(
	Zeni, Bu, Koku
)
enumTable TypeArme(
	Fleche, Arc, Chaine, Hast, Ninjutsu, Lourde, Baton, Couteau, Eventail, Lance, Sabre
)
enumTable MotClefArme(
	Petite, Moyenne, Grande, Paysan, Samourai
)
enumtable TypeKiho(
	Interieur, Karmique, Mystique
)
%%
%%
datatable AbsClan &[abstract] (
	%Model:
		Ref(Famille) Familles [1-*] (Clan),
		Ref(Ecole) Ecoles[1-*] (Clan)
)
datatable ClanMineur [AbsClan] ()
datatable ClanMajeur [AbsClan] (
	%Model:
	%Description:
		Text PerceptionCrabes,
		Text PerceptionDragons,
		Text PerceptionGrues,
		Text PerceptionLicornes,
		Text PerceptionLions,
		Text PerceptionMantes,
		Text PerceptionPhenix,
		Text PerceptionScorpions
)
datatable Famille(
	%Model:
		enum(Trait) BonusInitial,
		ref(AbsClan) Clan (Familles)
	%Description:
)

datatable Competence(
	%Model:
		enum(GroupeCompetence) Groupe,
		enum(Trait) TraitAssocie,
		varchar(30) SousType [0-*],
		varchar(30) Specialisations [0-*],
		Ref(Maitrise) Maitrises [0-*]
	%Exemplar:
		int Rang
)
datatable Maitrise(
	%Model:
		int RangRequis
)

datatable AugmentationSort(
	%Model:
		enum(TypeAugmentationSort) Type,
		decimal Facteur,
		varchar(10) Unite
)
datatable AbsSort &[abstract] (
	%Model:
		enum(ElementSort) Element,
		int maitrise,
		enum(Portee) Portee,
		decimal facteurPortee,
		enum(ZoneEffet) ZoneEffet,
		decimal facteurZone,
		enum(Duree) Duree,
		decimal facteurDuree,
		ref(AugmentationSort) Augmentations [0-*],
		enum(MotClefSort) motClefs [0-*]
)
datatable Ecole(
	%Model:
		enum(TraitCompetence) BonusInitial,
		Refex(Competence) Competences [1-*],
		decimal Honneur,
		Ref(AbsObjet) Equipement [1-*],
		decimal ArgentInitial,
		Ref(Technique) Techniques [1-*] (Ecole),
		enum(Affinite) Affinite [0-1],
		enum(Affinite) Deficience [0-1],
		Ref(Sort) Sorts [0-*],
		Ref(AbsClan) Clan (Ecoles),
		Enum(MotClefEcole) MotClef
)
datatable Technique(
	%Model:
		Ref(Ecole) Ecole,
		int Rang
)
datatable AbsAvantage &[abstract] (
	%Model:
		enum(SousTypeAvantage) SousType,
		int Cout, 
		enum(ModeDepenseAvantage) Mode
	%Exemplar:
		int NbrRangs
)
datatable Avantage [AbsAvantage]()
datatable Desavantage [AbsAvantage]()

datatable AbsObjet &[abstract] (
	%Model:
		int Prix,
		enum(Monnaie) Unite
)
datatable Objet [AbsObjet]()
datatable Arme[AbsObjet](
	%Model:
		enum(TypeArme) Type,
		int KeepVD,
		int RollVD,
		enum(MotClefArme) MotsClef [0-*],
		int Force  [0-1],
		int Portee [0-1]
	%Description:
		text Special [0-*]
)
datatable Armure [AbsObjet](
	%Model:
		int BonusND, 
		int Reduction
	%Description:
		text Special [0-*]
)

datatable Kata(
	%Model:
		enum(Anneau) Anneau,
		int Maitrise,
		ref(Ecole) Ecoles [0-*]
)
datatable Kiho(
	%Model:
		enum(TypeKiho) Type,
		enum(Anneau) Anneau,
		int Maitrise,
		bool useAtemi
)
datatable Sort [AbsSort]()
datatable Mahou [AbsSort]()